{
    "rules": {
      	".read" : "(root.child('modo').child('users').child(auth.token.email.replace('.','µ')).val()===0 || root.child('modo').child('users').child(auth.token.email.replace('.','µ')).val()===1 ) && auth.token.email.contains('@stemariebeaucamps.fr')===true",
        ".write": "(root.child('modo').child('users').child(auth.token.email.replace('.','µ')).val()===0 || root.child('modo').child('users').child(auth.token.email.replace('.','µ')).val()===1 ) && auth.token.email.contains('@stemariebeaucamps.fr')===true",
      	"banderole":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
        },
        
        "foyer_midi":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
            "$s":{
                "$j":{
                    "$h":{
                        "demandes":{
                            "$name":{
                              	".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                            }
                        }
                    },
                },
            },
        },
          
        "hist_point":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
        },

        "messages":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
      	    "$name":{
                ".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
            }
        },

        "modo":{
            ".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
        },
          
        "names":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
            "$name":{
              	".write" : "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
              	".validate" : "newData.isString() && !data.exists()",
            }
        },

        "news":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
            "$date":{
                "users":{
                    "$name":{
                		    ".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                    }
                }
            }
        },

        "perm":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
            "$s":{
                "$j":{
                    "$h":{
                        "demandes":{
                          	"$name":{
                              	".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                            },
                        },
                    },
                },
            },
        },

        "priorites":{
            ".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
        },

        "sondages":{
          	".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
            "$date":{
                "users":{
                    "$name":{
                        ".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                    }
                }
            }
        },

        "users":{
            "$name":{
              	".read" : "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                "amis": {
                    ".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                },
                "messages": {
              	    "$m":{
                        "lu": {
                		    ".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true"
                	    }
                    }
                },
                "email": {
                    ".write": "$name ==auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                },
                "send mail": {
                    ".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                },
                "tuto": {
                    ".write": "$name == auth.token.email.replace('.','µ') && auth.token.email.contains('@stemariebeaucamps.fr')===true",
                }
            }
        },

        "version":{
            ".read" : "auth.token.email.contains('@stemariebeaucamps.fr')===true",
        }
    } 
}